<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  

  
<mapper namespace="com.decolab.wanza.dao.UserDAO">


<select id="emailCheck" parameterType="java.lang.String" resultType="java.lang.String">
	SELECT EMAIL
	FROM USERS
	WHERE EMAIL=#{email}
</select>

<insert id="addUser" parameterType="com.decolab.wanza.dto.UserDTO">
	INSERT INTO USERS(USERSEQ, EMAIL, PWD, NICKNAME, PROFILENAME, PHONE, AUTH, MILEAGE, DEFAULTADDRESS)
	VALUES(SEQ_USER.NEXTVAL, #{email}, #{pwd}, #{nickname}, 0, #{phone}, 0, 40000, 0)
</insert>
  
  
<select id="login" parameterType="com.decolab.wanza.dto.UserDTO" resultType="com.decolab.wanza.dto.UserDTO">
	SELECT *
	FROM USERS
	WHERE EMAIL=#{email} AND PWD=#{pwd}
</select>  

<select id="getUserInfo" parameterType="int" resultType="com.decolab.wanza.dto.UserDTO">
	SELECT USERSEQ, EMAIL, NICKNAME, PROFILENAME, PHONE, MILEAGE, DEFAULTADDRESS
	FROM USERS
	WHERE USERSEQ=#{userSeq}
</select>

  
  
</mapper>