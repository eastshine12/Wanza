<html>

    <head>
        <meta charset="UTF-8">
        <title>완벽한 자취생활, 완자</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <link rel="shortcut icon" href="../../assets/img/wanza-Icon.ico" type="image/x-icon">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <link rel="stylesheet" type="text/css" href="../../css/style.css">
        <link rel="stylesheet" type="text/css" href="../../css/question.css">
        
        <!-- 써머노트 링크 시작 -->
        <!-- <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script> -->
        <link rel="stylesheet" href="../../css/summernote/summernote-lite.css">
        <!-- 써머노트 링크 끝 -->

        <style>

          .button {
          border: none;
          color: white;
          padding: 16px 32px;

          text-align: center;
          text-decoration: none;
          display: inline-block;
          font-size: 16px;
          margin: 4px 2px;
          transition-duration: 0.4s;
          cursor: pointer;
        }
    
        
    
        .question-btn1 {
          background-color: white; 
          color: black; 
          border: 2px solid coral;
        }
    
        .question-btn1:hover {
          background-color: coral;
          color: white;
        }
    
        .question-btn2 {
          background-color: white; 
          color: black; 
          border: 2px solid powderblue;
        }
    
        .question-btn2:hover {
          background-color: powderblue;
          color: white;
        }
    
        .w3-dropdown-click{
          background-color: coral;
          
        }
    
        #body, #body p, #body b,#body h1, #body h2, #body h3, #body h5,#body h6, #body li{
          font-family: 'Nanum Gothic', sans-serif;
            /* font-weight: bold; */
        }

        .question-title{
          display: flex;
          justify-content: center;
        }

        .question-content{
          display: flex;
          justify-content: center;
        }
        .question-content-photo-btn{
          background-color: coral;
          color: white;
          border-radius: 65%;
          width: 150px;
          height: 150px;
        }

        .w3_button {
          width: 250px; height: 60px;
          color: white;
          background-color: coral;
          border: none;
          padding: 0;
          font-size: 20px;
          font-weight: bold;
          margin: 20px 0;
          transition-duration: 0.4s;
          border-radius: 8px;
          align-self: center;
        }

        .w3-button:hover {
            background-color: coral;
            color: coral;
        }
        
        
    
        
        </style>
    
    
    </head>

<body id="body">
    
    <header include-html="../commons/header.html"></header>
    <nav include-html="../commons/menuComm.html"></nav>

    <div class="row">
        <div class="col-xl-3"></div>

        <div class="col-xl-6">
            
          <div class="question-form-container" >

              <form id="question-form" method="POST" enctype="multipart/form-data" ><!-- 질문작성폼시작 -->

                  <div id="question-form-header" style="font-size: 20px; text-align: right; width: auto;">
                      <h1 style="text-align: center; margin-top: 30px; margin-bottom: 15px; font-weight: 800;">질문하기</h1>
                      <span style="font-weight: 800;">"상품구매, 배송관련" 질문은 <a href="" style="color: coral;">이곳에 문의하러 가기</a></span>
                  </div>
                  
                  <input class="question-title" name="questionTitle" id="questionTitle" type="text" placeholder="질문의 제목을 적어주세요" 
                  style="width: 500px; height: 50px; align-items: center; margin: 0 auto; margin-top: 30px; border-radius: 20px; font-size: 20px; font-weight: bold; ">
                  <br>
                  
                  <input type="hidden" id="userSeq" name="userSeq" >

                  <textarea id="summernote" name="questionContent" class="summernote" name="editordata" ></textarea>

                  <input type="hidden" name="questionFileName" value="123">

                  <div class="row" style="align-items: center; ">
                    <div class="col-xl-3"></div>
                    <div class="col-xl-6" style="display: flex;" >
                        <button type="button" id="" class="w3_button" style="margin: 0 auto; margin-top: 30px;" >질문하기</button>
                    </div>
                    <div class="col-xl-3"></div>
                  </div>

                  <!-- <div class="question-content" contenteditable="true" style="background-color: white; height: 500px; text-align: left;" tabindex="0" aria-placeholder="내용을 작성해 주세요">
                    <p>
                      <br>
                    </p>
                  </div> -->

                  <!-- <div style="background-color: grey; height: 15px;"></div>

                  <div style="background-color: aquamarine; height: 150px; padding-left: 30px; padding-right: 30px;">
                  <div id="question-content-photo" class="question-content-photo" style="float: left;">
                    <div class="question-content-photo-icon">
                      <button class="question-content-photo-btn">
                        <img src="../image/zaf.png" style="width: 100px;">
                        <br>
                        <span style="margin-top: -35px; padding-top: -35px;">사진 추가</span>
                      </button>
                    </div>
                  </div>

                  <div id="question-content-photo" class="question-content-photo" style="float: right;">
                    <div class="question-content-photo-icon">
                      <button class="question-content-photo-btn">
                        <img src="../image/zaf.png" style="width: 100px;">
                        <br>
                        <span style="margin-top: -35px; padding-top: -35px;">질문저장하기</span>
                      </button>
                    </div>
                  </div>
                  </div>

                  <div style="background-color: grey; height: 15px;"></div> -->

                  <!-- <textarea cols="80" rows="30" class="question-content" type="textarea" placeholder="" style="align-items: center; margin: 0 auto;">
                    <input type="image" value="t-image" src="../image/drsd.gif">
                  </textarea> -->


              </form><!-- 질문작성폼끝 -->
          </div>
                
        </div>
        
        <div class="col-xl-3"></div>
    </div><!-- row끝 -->

    

    <footer include-html="../commons/footer.html"></footer>

    <script src="../../assets/js/jquery.min.js"></script>
    <script src="../../assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="../../js/includeHTML.js"></script>
    <script src="../../js/header.js"></script>
    <!-- 써머노트 스크립트 시작 -->
    <script src="../../css/summernote/summernote-lite.js"></script>
    <script src="../../css/summernote/summernote-ko-KR.js"></script>

    <script>
    $(document).ready(function() {
    //ㅇㅅㅇ

    //로그인한 계정 닉네임 가져오기
    let sessionId = JSON.parse(sessionStorage.getItem("login"));



    $('#userSeq').val(sessionId.userSeq);

    // if(sessionId == null) {
    //     sessionId = '';
    //     alert('로그인해주세요');
    //     location.href="../login/login.html"
    // }
    // console.log(sessionId);
      
    // if(sessionId.userSeq == '' || sessionId.userSeq == null){
      
    // }


    $('#summernote').summernote({
        height: 400,                 // 에디터 높이
        minHeight: 150,             // 최소 높이
        maxHeight: null,             // 최대 높이
        focus: true,                  // 에디터 로딩후 포커스를 맞출지 여부
        lang: "ko-KR",					// 한글 설정
        placeholder: '<h3>내용을 적어주세요</h3> <br> <b>참고가 되는 사진을 첨부해주시면 더 좋은 답변을 얻을 수 있습니다.</b>',	//placeholder 설정
        spellCheck: true, //스펠링 체크 
        toolbar: [   
        //툴바설정
        // [groupName, [list of button]]
        ['style', ['bold', 'italic', 'underline','strikethrough']],
        ['insert',['picture']],
        ['view', [ 'help']]
        ],
	  });

    
    

    $('.w3_button').on('click', function(list) {
      //alert('되냐이거?');
      var form = $('#question-form').serialize();
      // form = decodeURIComponent(form);
      // alert(form);
      // var form1 = JSON.parse(form);
      // alert(form1);
        $.ajax({
          url: 'http://localhost:3000/questionWrite',
          type: 'post',
          data : form,
          success:function(list){
            alert('ajax성공');
            //alert(list);
            location.href="http://localhost:8090/view/community/questions.html"
          }, error:function(list){
            alert('ajax실패');
          }
        })
      //alert('안됨');
    });

    /*
    $.ajax({
			url:"http://localhost:3000/member",
			type:"get",
			dataType:"json",
			success:function(data){
				$("#demo").text(JSON.stringify(data));
			}, error:function(){
				alert('error');
			}
			
		});
    */



    // function uploadsummernoteimage(){
    //   data = new FormData();
    //   data.append("file", file);
    //   alert('되냐 이거?');
    //   $.ajax({
    //     data : data,
    //     type : "post",
    //     url : "http://localhost:3000/questionWrite",
    //     enctype : 'multipart/form-data',
    //     processData : false,
    //     contentType : false,
    //     success : function(data) {
		// 			alert('글쓰기성공');
    //       $(el).summernote('editor.insertImage', data.url);
		// 		}, error : function(){
    //       alert('글쓰기실패')
    //     }

    //   });
    // }
              
    
    });



    // $('#summernote').summernote('fontName', 'Nanum Gothic');
    // @param {String} url
    // @param {String|Function} filename - optional
    // $('#summernote').summernote('insertImage', url, filename);
    
    </script>
    <!-- 써머노트 스크립트 끝 -->

    <!-- // 서머노트 간단 함수 모음
    // 서머노트에 text 쓰기
    $('#summernote').summernote('insertText', 써머노트에 쓸 텍스트);
    // 서머노트 쓰기 비활성화
    $('#summernote').summernote('disable');
    // 서머노트 쓰기 활성화
    $('#summernote').summernote('enable');
    // 서머노트 리셋
    $('#summernote').summernote('reset');
    // 마지막으로 한 행동 취소 ( 뒤로가기 )
    $('#summernote').summernote('undo');
    // 앞으로가기
    $('#summernote').summernote('redo'); -->

    

</body>

</html>